(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{54:function(t,s,a){"use strict";a.r(s);var n=a(0),o=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"知乎日报web版-我的第一个chrome插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#知乎日报web版-我的第一个chrome插件","aria-hidden":"true"}},[t._v("#")]),t._v(" 知乎日报Web版 - 我的第一个Chrome插件")]),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言","aria-hidden":"true"}},[t._v("#")]),t._v(" 前言")]),a("p",[t._v("抱着用Mac也要看知乎日报的崇高想法，偶然间看到"),a("a",{attrs:{href:"https://github.com/izzyleung",target:"_blank",rel:"noopener noreferrer"}},[t._v("izzyleung")]),t._v("总结的知乎api，萌生了自己做一个Chrome插件版的知乎日报。")]),a("h2",{attrs:{id:"chrome插件入门"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chrome插件入门","aria-hidden":"true"}},[t._v("#")]),t._v(" Chrome插件入门")]),a("p",[t._v("Chrome插件只需要基础前端就可以入门，当然部分高阶api还是需要研究研究的，好在知乎日报Web版涉及的不多，下面对主要涉及部分做一个简单的介绍。")]),a("h2",{attrs:{id:"chrome插件开发调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chrome插件开发调试","aria-hidden":"true"}},[t._v("#")]),t._v(" Chrome插件开发调试")]),a("ol",[a("li",[t._v("浏览器url进入插件地址")]),a("li",[t._v("加载已解压的扩展程序...打开你的项目地址")]),a("li",[t._v("完工，开发！但是前提是你的项目里有必需的一些文件，否则会报错")])]),a("h2",{attrs:{id:"chrome插件开发必需文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chrome插件开发必需文件","aria-hidden":"true"}},[t._v("#")]),t._v(" Chrome插件开发必需文件")]),a("ol",[a("li",[t._v("manifest.json - 清单文件")]),a("li",[t._v("popup.html - 其实非必需，但是没有就没有页面")]),a("li",[t._v("没了")])]),a("h2",{attrs:{id:"manifest文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#manifest文件","aria-hidden":"true"}},[t._v("#")]),t._v(" Manifest文件")]),a("p",[t._v("Chrome插件的核心，是一个json格式的清单文件，必需命名为manifest.json。")]),a("p",[t._v("这里突然想起一件事，就是json文件千万别想着写注释，说起来都是泪。当初为了方便记忆，在json文件写了很多注释，结果Chrome一直报错，Google之后才发现"),a("a",{attrs:{href:"https://plus.google.com/+DouglasCrockfordEsq/posts/RK8qyGVaGSr",target:"_blank",rel:"noopener noreferrer"}},[t._v("json文件不能用注释")]),t._v("，借着Google翻译了解了，大致是为了防止利用注释来制定解析规则。")]),a("ul",[a("li",[t._v("必须的字段")])]),a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"name"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"知乎日报Web版"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 插件名称\n  "),a("span",{attrs:{class:"token property"}},[t._v('"version"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"1.0.0"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 版本信息，才用x.y.z格式，更新时必须版本上升\n  "),a("span",{attrs:{class:"token property"}},[t._v('"manifest_version"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),t._v(" // 必须为"),a("span",{attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("ul",[a("li",[t._v("最好提供的字段")])]),a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"description"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"知乎日报Chrome扩展Web版本 - Build By 韩小平"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 插件简介\n  "),a("span",{attrs:{class:"token property"}},[t._v('"icons"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"16"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"prod/static/img/icon16.png"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"48"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"prod/static/img/icon48.png"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"128"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"prod/static/img/icon128.png"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // icon文件，建议提供"),a("span",{attrs:{class:"token number"}},[t._v("3")]),t._v("种不同大小的，Chrome会在不同情况是用对应大小的图片\n  "),a("span",{attrs:{class:"token property"}},[t._v('"default_locale"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"en"')]),t._v(" // 默认语言，选择后，目录中必须有_lcoales目录，然后建立语言目录，例如en，再在en里面建立manifest.json清单文件，太复杂了，被我pss了\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("ul",[a("li",[t._v("选填字段")])]),a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"browser_action"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"default_icon"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"prod/static/img/icon16.png"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"default_title"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"知乎日报Web版"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"default_popup"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"prod/template/popup.html"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 浏览器行为，设置默认的popup页\n  "),a("span",{attrs:{class:"token property"}},[t._v('"background"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"persistent"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{attrs:{class:"token string"}},[t._v('"prod/static/js/vendors/zepto-1.1.6.min.js"')]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 背景页，打开扩展就会常驻，主要用于数据传递\n  "),a("span",{attrs:{class:"token property"}},[t._v('"options_page"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"prod/template/options.html"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 选项页，如果不设置，右键插件"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("选项"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("会处于置灰状态\n  "),a("span",{attrs:{class:"token property"}},[t._v('"permissions"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"tabs"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // tab权限\n    "),a("span",{attrs:{class:"token string"}},[t._v('"contextMenus"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 自定义右键菜单，目前并没有用\n    "),a("span",{attrs:{class:"token string"}},[t._v('"cookies"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // cookies权限，目前并没有用，目前设置存在localStorage，换电脑不会同步，以后考虑换cookies，因为chrome会同步\n    "),a("span",{attrs:{class:"token string"}},[t._v('"notifications"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 弹出通知，目前并没有用\n    "),a("span",{attrs:{class:"token string"}},[t._v('"alarms"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 提醒，目前并没有用\n    "),a("span",{attrs:{class:"token string"}},[t._v('"webNavigation"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // web导航，目前并没有用\n    "),a("span",{attrs:{class:"token string"}},[t._v('"\\u003Call_urls\\u003E"')]),t._v(" // <all_urls>，最好采用unicode写法，获取对应网址的权限，你也可以写具体网址，如"),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"https://*.google.com"')]),t._v("，当你需要请求对应网址的资源是需要\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 插件权限，Chrome插件的权限都需要指定，从而使用相对应的Chrome api\n  "),a("span",{attrs:{class:"token property"}},[t._v('"web_accessible_resources"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"prod/static/img/icon16.png"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"prod/static/img/icon48.png"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"prod/static/img/icon128.png"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 资源白名单\n  "),a("span",{attrs:{class:"token property"}},[t._v('"content_scripts"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 脚本白名单\n  "),a("span",{attrs:{class:"token property"}},[t._v('"content_security_policy"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("\"script-src 'self' https://ssl.google-analytics.com 'unsafe-eval'; object-src 'self'\"")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" // 安全策略\n  "),a("span",{attrs:{class:"token property"}},[t._v('"homepage_url"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"https://github.com/excaliburhan/zhDaily"')]),t._v(" // 插件主页\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("h2",{attrs:{id:"chrome-api简析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chrome-api简析","aria-hidden":"true"}},[t._v("#")]),t._v(" Chrome api简析")]),a("p",[t._v("我的插件用到Chrome api的地方并不多，理论上你不调用它的api也是完全可以的。")]),a("p",[t._v("现在的需求：不重复打开相同的日报页面。如果用原生的location方法，可能会无限打开，所以需要调用chrome.tabs相关方法。用代码举个例子，如下。")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("openPage")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fileName"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" query"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  chrome"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tabs"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("query")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    windowId"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("chrome"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("windows"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("WINDOW_ID_CURRENT")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tabs"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v("\n      reg "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("RegExp")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'^chrome.*'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" fileName "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'.html(\\\\?{0,1})'")]),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" query "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),a("span",{attrs:{class:"token string"}},[t._v("'$'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'i'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      isOpened "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      tabId"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// 每个tab注册状态(是否打开/id)")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v(" tabs"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{attrs:{class:"token operator"}},[t._v("++")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reg"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tabs"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("url"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          isOpened "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          tabId "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" tabs"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),a("span",{attrs:{class:"token keyword"}},[t._v("break")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token operator"}},[t._v("!")]),t._v("isOpened"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("query"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          query "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'?'")]),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" query"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        chrome"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tabs"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("create")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          url"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'prod/template/'")]),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" fileName "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),a("span",{attrs:{class:"token string"}},[t._v("'.html'")]),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" query"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          active"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        chrome"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tabs"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("update")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tabId"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("highlighted"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("ol",[a("li",[t._v("chrome.tabs.query和chrome.windows获取当前打开多有tabs的数组")]),a("li",[t._v("正则判断需要打开的页面是否已经打开")]),a("li",[t._v("如果没有，利用chrome.tabs.create打开新页面，等同于location.href = 'xxx'")]),a("li",[t._v("如果已经打开，利用chrome.tabs.update的方法切换到对应页面")])]),a("p",[t._v("总体来说，调用api的需要你看文档，然后就是编程的思维了。Chrome提供的api很多，所以可以实现很多很多功能，具体还有待多多开发。")]),a("h2",{attrs:{id:"吃我一发安利"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#吃我一发安利","aria-hidden":"true"}},[t._v("#")]),t._v(" 吃我一发安利")]),a("p",[t._v("最后，安利一发我的插件 - 知乎日报Web版。")]),a("p",[t._v("插件地址:")]),a("p",[a("a",{attrs:{href:"https://chrome.google.com/webstore/detail/%E7%9F%A5%E4%B9%8E%E6%97%A5%E6%8A%A5web%E7%89%88/hgenmoheeaicmomkkkkkoeeihmdpacio",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://chrome.google.com/webstore/detail/%E7%9F%A5%E4%B9%8E%E6%97%A5%E6%8A%A5web%E7%89%88/hgenmoheeaicmomkkkkkoeeihmdpacio")])]),a("p",[t._v("项目地址:")]),a("p",[a("a",{attrs:{href:"https://github.com/excaliburhan/zhDaily",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/excaliburhan/zhDaily")])]),a("p",[t._v("欢迎各位下载试用，反馈功能。Follow或者Star一下项目也不是不可以~~")])])}],!1,null,null,null);s.default=o.exports}}]);