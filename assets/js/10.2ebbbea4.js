(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{69:function(s,t,a){"use strict";a.r(t);var n=a(0),r=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"舍弃预处理，拥抱css变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#舍弃预处理，拥抱css变量","aria-hidden":"true"}},[s._v("#")]),s._v(" 舍弃预处理，拥抱CSS变量")]),a("h2",{attrs:{id:"什么是css变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是css变量","aria-hidden":"true"}},[s._v("#")]),s._v(" 什么是CSS变量")]),a("blockquote",[a("p",[s._v("CSS 变量是由网页的作者或用户定义的实体，用来指定文档中的特定变量。使用自定义属性来设置变量名，并使用特定的 var() 来访问。（比如 color:var(--main-color);）。")])]),a("h2",{attrs:{id:"css变量的用途"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css变量的用途","aria-hidden":"true"}},[s._v("#")]),s._v(" CSS变量的用途")]),a("h3",{attrs:{id:"取代预处理器变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#取代预处理器变量","aria-hidden":"true"}},[s._v("#")]),s._v(" 取代预处理器变量")]),a("p",[s._v("现在普遍使用的预处理器，如sass，less都提供了变量的概念，很适合用于组件化的样式编写。")]),a("p",[s._v("以sass为例，简单的代码如下：")]),a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[s._v("$mainColor: #333\n\nbody")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{attrs:{class:"token property"}},[s._v("color")]),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $mainColor"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),a("p",[s._v("在js编译处理后，输出的css代码如下：")]),a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[s._v("body")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{attrs:{class:"token property"}},[s._v("color")]),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #333"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),a("p",[s._v("使用css变量，不需要编译处理，就可以达到相同效果，代码如下：")]),a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[s._v(":root")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{attrs:{class:"token property"}},[s._v("--main-color")]),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #333"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{attrs:{class:"token selector"}},[s._v("body")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{attrs:{class:"token property"}},[s._v("color")]),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("var")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("--main-color"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),a("p",[s._v("两者实际效果完全相同，使用css变量，可以省去dev阶段使用预处理器的成本开销。当然，它的优点不至于此，下面会细说。")]),a("h3",{attrs:{id:"实现浏览器前缀"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实现浏览器前缀","aria-hidden":"true"}},[s._v("#")]),s._v(" 实现浏览器前缀")]),a("p",[s._v("相信前端都接触过autoprefixer这玩意，会给你的css代码加上各浏览器的前缀，让样式在各浏览器中保持一致。而这，也可以使用css变量实现。")]),a("p",[s._v("我们以"),a("code",[s._v("box-shadow")]),s._v("为例来进行说明。")]),a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[s._v("*")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{attrs:{class:"token property"}},[s._v("--box-shadow")]),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" none"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{attrs:{class:"token property"}},[s._v("-webkit-box-shadow")]),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("var")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("--box-shadow"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{attrs:{class:"token property"}},[s._v("box-shadow")]),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("var")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("--box-shadow"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{attrs:{class:"token selector"}},[s._v("div")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{attrs:{class:"token property"}},[s._v("--box-shadow")]),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 0 0 5px red"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),a("p",[s._v("上述代码能够添加"),a("code",[s._v("-webkit")]),s._v("的前缀，而且相信你也发现了，css变量是能够覆盖的，和css属性一样。是不是很棒？")]),a("h2",{attrs:{id:"为什么使用css变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么使用css变量","aria-hidden":"true"}},[s._v("#")]),s._v(" 为什么使用CSS变量")]),a("p",[s._v("当然，css变量的用法不局限于此，很考验你的想象力。现在，我们来说说为什么要使用它。")]),a("ul",[a("li",[s._v("你不需要一个预处理器；")]),a("li",[s._v("你可以舍弃autoprefixer；")]),a("li",[s._v("css变量能够覆盖，和css属性一样；")]),a("li",[s._v("css变量覆盖后，如果需要，浏览器会进行重绘（很适合响应式）；")]),a("li",[s._v("css变量能够通过js控制。")])]),a("h2",{attrs:{id:"css变量的局限性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css变量的局限性","aria-hidden":"true"}},[s._v("#")]),s._v(" CSS变量的局限性")]),a("h3",{attrs:{id:"兼容性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#兼容性","aria-hidden":"true"}},[s._v("#")]),s._v(" 兼容性")]),a("p",[s._v("具体数据请看"),a("a",{attrs:{href:"http://caniuse.com/#feat=css-variables",target:"_blank",rel:"noopener noreferrer"}},[s._v("Caniuse")]),s._v("。目前的情况是Chrome，Safari，Firefox等主流浏览器都支持，IE全军覆没。")]),a("p",[s._v("如果你要兼容IE，那还是要悠着点。")]),a("h3",{attrs:{id:"嵌套语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#嵌套语法","aria-hidden":"true"}},[s._v("#")]),s._v(" 嵌套语法")]),a("p",[s._v("预处理器的嵌套语法是我非常欣赏的一点，比如sass中可以这么写：")]),a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{attrs:{class:"token selector"}},[s._v("body")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{attrs:{class:"token property"}},[s._v("color")]),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #333"),a("span",{attrs:{class:"token selector"}},[s._v(";\n  div")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{attrs:{class:"token property"}},[s._v("color")]),a("span",{attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" #666"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),a("p",[s._v("然而原生css还是难以实现，至少我目前还没有想到解决方法。如果你有，请不吝赐教！")])])}],!1,null,null,null);t.default=r.exports}}]);